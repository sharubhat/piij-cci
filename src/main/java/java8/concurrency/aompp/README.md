code samples from The Art of Multiprocessor Programming.